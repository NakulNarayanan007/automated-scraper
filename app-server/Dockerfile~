############################################################
# Dockerfile for a Django development environment
# Based on Python:2.7 Image
############################################################

FROM python:2.7
MAINTAINER jithin.sayone@gmail.com

RUN apt-get update
#install requirement packages
RUN pip install Django==1.10.3
RUN pip install django-filter==0.15.3
RUN pip install django-pgjson==0.3.1
RUN pip install djangorestframework==3.5.2
RUN pip install jsonfield==1.0.3
RUN pip install Markdown==2.6.7
RUN pip install psycopg2==2.6.2
RUN pip install scrapinghub==1.9.0
RUN pip install matplotlib==1.5.3
RUN pip install numpy==1.11.2
RUN pip install boto==2.43.0
RUN pip install paramiko==2.0.2


#Add Project to docker
ADD . /app/

CMD python /app/manage.py data_clear && \
    python /app/manage.py makemigrations && \
    python /app/manage.py migrate && \
    python /app/manage.py data_transfer && \
    python /app/manage.py collectstatic --noinput && \
    python /app/manage.py runserver 0.0.0.0:8000 
    
    
